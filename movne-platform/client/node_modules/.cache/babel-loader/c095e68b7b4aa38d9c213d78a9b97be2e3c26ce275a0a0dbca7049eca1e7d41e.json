{"ast":null,"code":"import React,{useState,useEffect}from'react';import RegulatorySidebar from'./components/RegulatorySidebar';import EnhancedTranscript from'./components/EnhancedTranscript';// eslint-disable-next-line no-unused-vars\nimport RecordingControls from'./components/RecordingControls';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[isRecording,setIsRecording]=useState(false);const[transcript,setTranscript]=useState([]);const[summary,setSummary]=useState('');const[recognition,setRecognition]=useState(null);// eslint-disable-next-line no-unused-vars\nconst[regulatoryAnswers,setRegulatoryAnswers]=useState({});useEffect(()=>{if('webkitSpeechRecognition'in window){const recognition=new window.webkitSpeechRecognition();recognition.continuous=true;recognition.interimResults=true;recognition.lang='he-IL';recognition.onresult=event=>{const transcript=Array.from(event.results).map(result=>result[0].transcript).join('');handleTranscriptChange({text:transcript,speaker:'detecting...',timestamp:new Date().toLocaleTimeString()});};setRecognition(recognition);}},[]);const handleStart=()=>{setIsRecording(true);recognition===null||recognition===void 0?void 0:recognition.start();};const handleStop=()=>{setIsRecording(false);recognition===null||recognition===void 0?void 0:recognition.stop();};const handleUpload=file=>{console.log(\"Uploading file:\",file);};const handleTranscriptChange=newTranscript=>{setTranscript(prev=>[...prev,newTranscript]);};const handleSummary=()=>{setSummary(\"Generated summary will appear here\");};const handleSendEmail=type=>{console.log(\"Sending \".concat(type,\" email\"));};return/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-12 gap-3 p-2 h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 h-full\",children:/*#__PURE__*/_jsx(RegulatorySidebar,{onAnswerUpdate:setRegulatoryAnswers})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-8 h-full flex flex-col\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"flex-1 bg-white rounded-xl shadow-lg border border-stone-200 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-stone-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-finance-300\",children:\"\\u05EA\\u05DE\\u05DC\\u05D5\\u05DC \\u05E9\\u05D9\\u05D7\\u05D4 \\u05D1\\u05E9\\u05D9\\u05D3\\u05D5\\u05E8 \\u05D7\\u05D9\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:isRecording?handleStop:handleStart,className:\"px-4 py-2 rounded-lg transition-all duration-300 text-sm\\n                  \".concat(isRecording?'bg-red-500 hover:bg-red-600 text-white':'bg-trust-400 hover:bg-trust-500 text-white'),children:isRecording?'הפסק הקלטה':'התחל הקלטה'}),/*#__PURE__*/_jsxs(\"label\",{className:\"px-4 py-2 bg-finance-300 text-white rounded-lg hover:bg-finance-400  transition-all duration-300 cursor-pointer text-sm\",children:[\"\\u05D4\\u05E2\\u05DC\\u05D4 \\u05D4\\u05E7\\u05DC\\u05D8\\u05D4\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"audio/*\",onChange:e=>handleUpload(e.target.files[0]),className:\"hidden\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSummary,className:\"px-4 py-2 bg-finance-300 text-white rounded-lg hover:bg-finance-400  transition-all duration-300 text-sm\",children:\"\\u05E1\\u05D9\\u05DB\\u05D5\\u05DD \\u05D5\\u05E4\\u05E2\\u05D5\\u05DC\\u05D5\\u05EA\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden\",children:/*#__PURE__*/_jsx(EnhancedTranscript,{isRecording:isRecording,transcript:transcript,onTranscriptUpdate:handleTranscriptChange,className:\"h-full\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 h-full flex flex-col gap-3\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"flex-1 bg-white rounded-xl shadow-lg p-4 border border-stone-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-finance-300 mb-4\",children:\"\\u05E1\\u05D9\\u05DB\\u05D5\\u05DD \\u05E9\\u05D9\\u05D7\\u05D4\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full h-[calc(100%-8rem)] p-3 border border-stone-200 rounded-lg resize-none\",value:summary,onChange:e=>setSummary(e.target.value),placeholder:\"\\u05E1\\u05D9\\u05DB\\u05D5\\u05DD \\u05D0\\u05D5\\u05D8\\u05D5\\u05DE\\u05D8\\u05D9 \\u05D9\\u05D5\\u05E4\\u05D9\\u05E2 \\u05DB\\u05D0\\u05DF...\",dir:\"rtl\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSendEmail('client'),className:\"w-full py-2 text-sm bg-trust-400 text-white rounded-lg hover:bg-trust-500 transition-all duration-300\",children:\"\\u05E9\\u05DC\\u05D7 \\u05DE\\u05D9\\u05D9\\u05DC \\u05DC\\u05DC\\u05E7\\u05D5\\u05D7\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSendEmail('advisor'),className:\"w-full py-2 text-sm bg-finance-300 text-white rounded-lg hover:bg-finance-400 transition-all duration-300\",children:\"\\u05E9\\u05DC\\u05D7 \\u05DE\\u05D9\\u05D9\\u05DC \\u05DC\\u05DE\\u05E9\\u05D5\\u05D5\\u05E7\"})]})]})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","RegulatorySidebar","EnhancedTranscript","RecordingControls","jsx","_jsx","jsxs","_jsxs","Dashboard","isRecording","setIsRecording","transcript","setTranscript","summary","setSummary","recognition","setRecognition","regulatoryAnswers","setRegulatoryAnswers","window","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","Array","from","results","map","result","join","handleTranscriptChange","text","speaker","timestamp","Date","toLocaleTimeString","handleStart","start","handleStop","stop","handleUpload","file","console","log","newTranscript","prev","handleSummary","handleSendEmail","type","concat","className","children","onAnswerUpdate","onClick","accept","onChange","e","target","files","onTranscriptUpdate","value","placeholder","dir"],"sources":["/workspaces/movne-platform/movne-platform/client/src/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport RegulatorySidebar from './components/RegulatorySidebar';\nimport EnhancedTranscript from './components/EnhancedTranscript';\n// eslint-disable-next-line no-unused-vars\nimport RecordingControls from './components/RecordingControls';\n\nconst Dashboard = () => {\n  const [isRecording, setIsRecording] = useState(false);\n  const [transcript, setTranscript] = useState([]);\n  const [summary, setSummary] = useState('');\n  const [recognition, setRecognition] = useState(null);\n  // eslint-disable-next-line no-unused-vars\n  const [regulatoryAnswers, setRegulatoryAnswers] = useState({});\n\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = true;\n      recognition.interimResults = true;\n      recognition.lang = 'he-IL';\n      \n      recognition.onresult = (event) => {\n        const transcript = Array.from(event.results)\n          .map(result => result[0].transcript)\n          .join('');\n        \n        handleTranscriptChange({\n          text: transcript,\n          speaker: 'detecting...',\n          timestamp: new Date().toLocaleTimeString()\n        });\n      };\n\n      setRecognition(recognition);\n    }\n  }, []);\n\n  const handleStart = () => {\n    setIsRecording(true);\n    recognition?.start();\n  };\n\n  const handleStop = () => {\n    setIsRecording(false);\n    recognition?.stop();\n  };\n\n  const handleUpload = (file) => {\n    console.log(\"Uploading file:\", file);\n  };\n\n  const handleTranscriptChange = (newTranscript) => {\n    setTranscript(prev => [...prev, newTranscript]);\n  };\n\n  const handleSummary = () => {\n    setSummary(\"Generated summary will appear here\");\n  };\n\n  const handleSendEmail = (type) => {\n    console.log(`Sending ${type} email`);\n  };\n\n  return (\n    <div className=\"grid grid-cols-12 gap-3 p-2 h-screen\">\n      {/* Regulatory Sidebar - Narrower */}\n      <div className=\"col-span-2 h-full\">\n        <RegulatorySidebar onAnswerUpdate={setRegulatoryAnswers} />\n      </div>\n\n      {/* Main Transcript Area - Wider */}\n      <div className=\"col-span-8 h-full flex flex-col\">\n        <section className=\"flex-1 bg-white rounded-xl shadow-lg border border-stone-200 flex flex-col\">\n          {/* Controls at Top */}\n          <div className=\"flex items-center justify-between p-4 border-b border-stone-200\">\n            <h3 className=\"text-xl font-semibold text-finance-300\">\n              תמלול שיחה בשידור חי\n            </h3>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={isRecording ? handleStop : handleStart}\n                className={`px-4 py-2 rounded-lg transition-all duration-300 text-sm\n                  ${isRecording \n                    ? 'bg-red-500 hover:bg-red-600 text-white' \n                    : 'bg-trust-400 hover:bg-trust-500 text-white'}`}\n              >\n                {isRecording ? 'הפסק הקלטה' : 'התחל הקלטה'}\n              </button>\n              \n              <label className=\"px-4 py-2 bg-finance-300 text-white rounded-lg hover:bg-finance-400 \n                            transition-all duration-300 cursor-pointer text-sm\">\n                העלה הקלטה\n                <input \n                  type=\"file\" \n                  accept=\"audio/*\" \n                  onChange={(e) => handleUpload(e.target.files[0])}\n                  className=\"hidden\" \n                />\n              </label>\n              \n              <button\n                onClick={handleSummary}\n                className=\"px-4 py-2 bg-finance-300 text-white rounded-lg hover:bg-finance-400 \n                         transition-all duration-300 text-sm\"\n              >\n                סיכום ופעולות\n              </button>\n            </div>\n          </div>\n          \n          {/* Expanded Transcript Area */}\n          <div className=\"flex-1 overflow-hidden\">\n            <EnhancedTranscript \n              isRecording={isRecording}\n              transcript={transcript}\n              onTranscriptUpdate={handleTranscriptChange}\n              className=\"h-full\"\n            />\n          </div>\n        </section>\n      </div>\n\n      {/* Summary Area - Narrower */}\n      <div className=\"col-span-2 h-full flex flex-col gap-3\">\n        <section className=\"flex-1 bg-white rounded-xl shadow-lg p-4 border border-stone-200\">\n          <h3 className=\"text-lg font-semibold text-finance-300 mb-4\">סיכום שיחה</h3>\n          <textarea\n            className=\"w-full h-[calc(100%-8rem)] p-3 border border-stone-200 rounded-lg resize-none\"\n            value={summary}\n            onChange={(e) => setSummary(e.target.value)}\n            placeholder=\"סיכום אוטומטי יופיע כאן...\"\n            dir=\"rtl\"\n          />\n          <div className=\"mt-4 space-y-2\">\n            <button \n              onClick={() => handleSendEmail('client')}\n              className=\"w-full py-2 text-sm bg-trust-400 text-white rounded-lg hover:bg-trust-500 transition-all duration-300\"\n            >\n              שלח מייל ללקוח\n            </button>\n            <button \n              onClick={() => handleSendEmail('advisor')}\n              className=\"w-full py-2 text-sm bg-finance-300 text-white rounded-lg hover:bg-finance-400 transition-all duration-300\"\n            >\n              שלח מייל למשווק\n            </button>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}